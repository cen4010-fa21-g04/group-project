generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model login {
  username String @db.VarChar(100)
  password String @db.VarChar(100)

  @@id([username, password])
}

model menu {
  id     String   @id @db.VarChar(255)
  name   String?  @db.VarChar(100)
  price  Int?
}

model items {
  id     String   @id @db.VarChar(255)
  name   String   @db.VarChar(100)
  price  Int
  quantity Int
  orders ItemsOnOrders[]
}

model orders {
  id          String    @id @db.VarChar(255)
  card_number String?   @db.VarChar(255)
  created_at  DateTime? @db.Timestamp(0)
  name        String?   @db.VarChar(100)
  card_cvv    Int
  card_exp    String    @db.VarChar(100)
  total       Int
  items       ItemsOnOrders[]
}

model ItemsOnOrders {
  item       items     @relation(fields: [itemId], references: [id])
  itemId     String // relation scalar field (used in the `@relation` attribute above)
  order      orders     @relation(fields: [orderId], references: [id])
  orderId     String // relation scalar field (used in the `@relation` attribute above)
  assignedAt DateTime @default(now())
  assignedBy String

  @@id([itemId, orderId])
}

model reservations {
  resdate  DateTime @db.Date
  nopeople String   @db.VarChar(5)
  restime  DateTime @db.Time(0)
  name     String?  @db.VarChar(255)

  @@id([resdate, restime, nopeople])
}
