generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model login {
  username String @db.VarChar(100)
  password String @db.VarChar(100)

  @@id([username, password])
}

model menu {
  id    String  @id @db.VarChar(255)
  name  String? @db.VarChar(100)
  price Int?
}

model items {
  id       String          @id @db.VarChar(255)
  name     String          @db.VarChar(100)
  price    Int
  quantity Int
  orders   ItemsOnOrders[]
}

model orders {
  id          String          @id @db.VarChar(255)
  card_number String?         @db.VarChar(255)
  created_at  DateTime?       @db.Timestamp(0)
  name        String?         @db.VarChar(100)
  card_cvv    Int
  card_exp    String          @db.VarChar(100)
  total       Int
  items       ItemsOnOrders[]
}

model ItemsOnOrders {
  orderId    String
  assignedAt DateTime @default(now())
  assignedBy String
  itemId     String
  item       items    @relation(fields: [itemId], references: [id])
  order      orders   @relation(fields: [orderId], references: [id])

  @@id([itemId, orderId])
  @@index([orderId], map: "ItemsOnOrders_orderId_fkey")
}

model reservations {
  id          String          @id @db.VarChar(255)
  name             String?  @db.VarChar(255)
  number_of_guests Int
  date             DateTime @db.Date
}
